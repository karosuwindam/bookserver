# 変更履歴

[0.10.0]
- 2024
  - ビルドするGoのバージョンを1.19から1.22に変更
  - pyroscopeseの機能を削除
  - 構築方法をゼロベースから設計し直し
  - sqlの操作ライブラリをgormに変更
  - アップロード処理と変換処理を別処理に変更

[0.9.4]
- 2023/10/04
  - パッケージのバージョンアップ
  - キーワード検索の効率化

[0.9.3]

- 2023/09/05
  - DockerfileのビルドでGLibCのバージョンを実験的でも最新版で

[0.9.2]

- 2023/08/24
  - GItHubアクションの部分を改善して、Releasesも同時にやる
- 2023/06/08
  - 階層のフォルダのzipファイルをに対応
  - スレッド処理でコード実行の順番を調整

[0.9.1]

- 2023/06/07
  - ZipからPDFに変換するさいにサイズを変動できるようにする

[0.9.0]

- 2023/06/06
  - アップロードしたzipファイルからpdfファイルや表紙画像を作る
  - 変換処理追加失敗時にテーブル追加を無効に変更
- 2023/06/05
  - zipファイルのアップロード改善
  - アップロードあとの拡張子別処理を改善
  - コメントが抜けている関数にコメントの追加
  - アップロード時のスクリプトで確保メモリを超えたときに送信できない不具合
  - アップロード完了後の処理で変換処理が同時に起きないように変更
- 2023/05/26
  - 画像ファイルの表示対象をpngも対応に
  - pbmやppm拡張子をjpg変換してzipへ保存
- 2023/05/25
  - editのデザインを少し変更
- 2023/05/23
  - ビルドするGoのバージョンを1.19へ切り替え
  - アップロードする処理で大容量は分割アップロードへ

[0.8.2]

- 2023/05/22
  - インデックス文字列を効率よく入力する設定
  - 各ファイルサイズの合算途中でキャッシュオーバーする際にはいったん送信する
  - 確保したキャッシュサイズでjavascriptのキャッシュサイズを変える
  - goのバージョンを1.18から1.19へ変更

[0.8.1]

- 2023/05/18
  - アップロード処理の視覚をもう少し改善
- 2023/05/17
  - upload.goのr.ParseMultipartFromのメモリ不足で files := r.MultipartForm.File["file"]の処理で多重アップロードの部分でエラーが発生するので32MBから256MBに変更
  - 環境変数によって多重アップロードの値を変更できるように設定

[0.8.0]

- 2023/05/16
  - 多重アップロードに対応
- 2023/05/13
  - 検索結果でからもじのときの動作がおかしいので修正
- 2023/05/11
  - viewやindex、editページ内でソート機能を追加する
  - localstorageを使用して説明文は初回のみ表示

[0.7.2]

- 2023/05/08
  - アップロード時のTag内に出版社情報を追加
  - バージョン情報を表示
  - 当ログがないファイルでもTag情報を登録する

[0.7.1]

- 2023/05/07
  - アップロード時のTag内に巻数表示が追加されない
  - healthチェックでtrueにならない
  - 閲覧時に、タイトル状態、作者名、その他名でリンクを作る
  - アップロード時のファイルチェックでテーブルチェックが抜けている

[0.7.0]

- 2023/05/02
  - スレッド動作のhealthチェックページの用意
  - アップロードされたフォルダのチェックページ
- 2023/04/30
  - アップロードフォルダ内で登録がないファイルを探す処理
- 2023/04/27
  - zipファイルのキャッシュで読み書きのロックを見直し
  - zipファイル内のキャッシュを作成して読み込みの効率化を実施
- 2023/04/26
  - 一文字のときにHTMLの検索登録がおかしくなる事を修正

[0.6.0]

- 2023/04/25
  - 編集テーブルで既存入力済みのデータを表示される
  - 特定フォルダへ書き出し機能
  - テーブルのデータ入力の効率化
  - booknamesテーブルの種類を別テーブルで管理
  - booknames_booktypesテーブルの追加
  - Dockerfileの用意

[0.5.0]

- 2023/04/23
  - 閲覧機能を用意
  - 1000ページを超えるファイルを圧縮するときはファイル名をつけ直す
- 2023/04/22
  - Download機能を用意

[0.4.3]

- 2023/04/22
  - HTMLで検索機能の用意
  - サーバの機能を作り直し
  - 表示結果をカスタマイズ

[0.4.2]

- 2023/04/18
  - upload機能を用意
  - pdfの初めての画像をimgフォルダに書き出す

[0.4.1]

- 2023/04/13
  - /edit/の編集ページを作り直し
  - 検索と表示機能の用意

[0.4.0]

- 2023/04/12
  - 動作機能の大半を作り直し
  - zipファイルの閲覧機能を用意
  - pdfファイルアップロードによるzipファイル作成を別スレッドで実行
- 2022/10/31
  - 名前一致による検索が可能にする
  - 更新データ確認実装
- 2022/10/27
  - アップロード先のフォルダ内のリストデータ取得
- 2022/10/26
  - PDFの画像ファイルをzipで固めるテストファイルを作成
- 2022/10/25
  - フォルダ内のファイルやパスを確認する関数追加
  - PDF内の画像ファイルをzipで固める関数作成

[0.3.0]

- 2022/10/16
  - データの追加ページを用意
  - /v1/やloginページアクセス時にログ出力するように変更
- 2022/10/17
  - SQLの編集の最低限の機能付いて

[0.2.0]

- 2022/10/12
  - Webサーバによる返却機能の実施
- 2022/10/16
  - sessionが有効期限ならば、通信毎に更新するように変更
  - 未完成でsql操作機能をリリース

[0.1.0]

- 2022/10/10
  - Upload機能を追加
  - Configの環境変数情報を一括読み込み
  - SQLite3のデータベース読み込み機能
  - SQLLite3のデータベーステーブル作成機能
  - データベース内のテーブルを特定して一括読み取り
  - log関数を使用するとエラー出力になるので、message関数を作ってerr出力でないlog出力にする
  - データベースでid指定で読み取り
  - データベースへの追加機能
  - データベースでキーワード読み取り
- 2022/10/11
  - データベースでキーワード指定の検索
  - Webからデータベース内のデータ編集機能
  - /v1/配下にアクセスにはトークンをヘッダーに格納が必要

[0.0.1]

- 仮リリース

- ToDo
  - UPLOAD時にファイル編集とSQL登録を組み込む
  - Webからデータベースのデータ削除機能
  - Webからデータベースへの追加機能
  - 階層フォルダが含まれるzipファイルに対応する
